<%- include('../components/header'); %>
<h5 class="display-5">Voting</h5>
<p>Field questions for the panel or find out what your community wants to discuss.</p>
<div class="card shadow-lg mt-4">
    <div class="card-body">
        <h5>Poll</h5>
        <div id="poll-load" class="spinner-border"></div>
        <div id="poll-current" style="display: none">
            <h6>Currently running a poll: <span id="poll-title"></span></h6>
            <a class="btn btn-light mt-4" href="/@<%= req.guild.slug %>/poll">Results</a>
            <button class="btn btn-danger mt-4" id="poll-end">End poll</button>
        </div>
        <div id="poll-new" style="display: none">
            <div id="poll-last" style="display: none"></div> <!-- TODO results (store last poll ID) -->
            <div class="form-outline">
                <input class="form-control" id="poll-title" placeholder="Who makes the best PC?">
                <label for="poll-title" class="form-label">Title</label>
            </div>
            <div class="form-group mt-4">
                <label for="poll-length">Duration</label><br>
                <select id="poll-length" class="mdb-select md-form">
                    <option value="10">10 seconds</option>
                    <option value="30">30 seconds</option>
                    <option value="60" selected>1 minute</option>
                    <option value="300">5 minutes</option>
                    <option value="-1">Until ended</option>
                </select>
            </div>
            <hr>
            <div id="poll-options" style="border-left: 3px solid #bbb; padding-left: 5px">
                <div class="mt-2 poll-option form-outline" id="poll-clone" style="display: none">
                    <input class="form-control" placeholder="Apple">
                    <label class="form-label">Option</label>
                    <button class="btn btn-danger btn-sm mt-1">Remove</button>
                </div>
            </div>
            <button class="btn btn-light mt-4" id="poll-add">Add option</button>
            <button class="btn btn-primary mt-4" id="poll-start">Start poll</button>
        </div>
        <p class="mt-4">Your viewers can vote using the <strong>number</strong>.</p>
    </div>
</div>
<div class="card shadow-lg mt-4">
    <div class="card-body">
        <h5>AMA</h5>
        <div id="ama-load" class="spinner-border"></div>
        <div id="ama-current" style="display: none">
            <h6>Currently running an AMA: <span id="ama-title"></span></h6>
            <a class="btn btn-light mt-4" href="/@<%= req.guild.slug %>/ama">View responses</a>
            <button class="btn btn-danger mt-4" id="ama-end">End AMA</button>
        </div>
        <div id="ama-new" style="display: none">
            <h5>AMA</h5>
            <div class="form-outline">
                <input class="form-control" id="ama-title" placeholder="What topics should we cover?">
                <label for="ama-title" class="form-label">Title</label>
            </div>
            <button class="btn btn-primary mt-4" id="ama-start">Start AMA</button>
        </div>
        <% if(req.guild.slug) { %>
            <p class="mt-4">Your viewers can vote using <a href="/@<%= req.guild.slug %>/ama">the dashboard</a>.</p>
        <% } else { %>
            <p class="mt-4"><a href="/">Choose a URL for your server</a> to use AMAs.</p>
        <% } %>
        </div>
</div>
<%- include('../components/footer'); %>